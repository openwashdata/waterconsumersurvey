[{"path":"https://github.com/openwashdata/waterconsumersurvey/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Emmanuel Mhango. Author, maintainer. Feston Bwanyula. Contributor. Rhodrick D. Sagawa. Contributor. Fatsani Chinawa. Contributor. Baleke Banda. Contributor. Alex Mchotsa. Contributor. Paul Kumpukwe. Contributor. Derick Macheke. Contributor. George Mangochi Martin. Contributor. Khallen Malliot. Contributor. Christopher Mwafulirwa. Contributor. Tellia Billiat. Contributor. Verson Chilombo. Contributor. Doreen Chalira. Contributor. Catherine Chapotera. Contributor.","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Mhango, E. et al. (2025). waterconsumersurvey: Household Water Point Satisfaction Survey Data Malawi. R package version 0.0.0.9000. https://github.com/openwashdata/waterconsumersurvey","code":"@Manual{,   title = {waterconsumersurvey: Household Water Point Satisfaction Survey Data from Malawi},   author = {Emmanuel Mhango and Feston Bwanyula and Rhodrick D. Sagawa and Fatsani Chinawa and Baleke Banda and Alex Mchotsa and Paul Kumpukwe and Derick Macheke and George Mangochi Martin and Khallen Malliot and Christopher Mwafulirwa and Tellia Billiat and Verson Chilombo and Doreen Chalira and Catherine Chapotera},   year = {2025},   note = {R package version 0.0.0.9000},   url = {https://github.com/openwashdata/waterconsumersurvey}, }"},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":null,"dir":"","previous_headings":"","what":"CLAUDE.md - OpenWashData R Package Review Guide","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"guide helps Claude Code review R data packages openwashdata organization, ensuring consistency, quality, completeness across published datasets.","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"overview","dir":"","previous_headings":"","what":"Overview","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"review process follows PLAN → CREATE → TEST → DEPLOY workflow. entire review process starts package dev branch, issues resolved final PR dev main created. phase requires explicit user approval proceeding. CRITICAL WORKFLOW RULE: Claude MUST stop completing individual issue. user must manually restart Claude next issue.","code":""},{"path":[]},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"id_1-plan-phase","dir":"","previous_headings":"Review Workflow","what":"1. PLAN Phase","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"initiated via /review-package [package-name], Claude : Download latest CLAUDE.md openwashdata/pkgreview repository CLAUDE.md already exists, append review guide content Create backup existing CLAUDE.md appending Provide fallback options download fails Verify package created washr template Check required directories: R/, data/, data-raw/, inst/extdata/, man/ Confirm presence key files: DESCRIPTION, README.Rmd, _pkgdown.yml Check existing PRs dev branches Issue 1 (General Information & Metadata) created initially Subsequent issues created previous PRs merged ensures issue builds completed changes Issue 1: General Information & Metadata Issue 2: Data Content & Processing (created Issue 1 merged) Issue 3: Documentation (created Issue 2 merged) Issue 4: Tests & CI/CD (created Issue 3 merged) Summary findings List issues addressed Provide explicit instructions user review Issue #1 GitHub Request user confirmation proceeding","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"id_2-create-phase","dir":"","previous_headings":"Review Workflow","what":"2. CREATE Phase","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"user approval, work issues ONE TIME. SEQUENTIAL WORKFLOW: 1. User runs /review-package start - Issue #1 created 2. User reviews Issue #1 GitHub confirms readiness 3. User runs /review-issue 1 work Issue #1 4. Claude presents planned changes waits user confirmation 5. user approval, Claude creates new branch dev 6. Claude implements changes issue 7. Claude commits changes descriptive message 8. Claude creates PR dev branch (main!) 9. CLAUDE MUST STOP COMPLETELY - proceed next issue 10. User reviews PR, merges dev 11. User runs /create-next-issue create Issue #2 12. Repeat steps 2-11 subsequent issue CRITICAL: Claude MUST automatically continue next issue. workflow STOPS creating PR. Creating Issue #1: - User review Issue #1 GitHub confirm checklist items - User can make necessary adjustments issue description - ready, user runs /review-issue 1 start working - issue builds previous one, ensuring changes cumulative throughout review process","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"issue-1-general-information--metadata","dir":"","previous_headings":"Review Workflow > 2. CREATE Phase","what":"Issue 1: General Information & Metadata","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Claude must check items completed update issue Title (descriptive, <65 characters) Description (clear purpose statement) Authors ORCID IDs License: CC 4.0 Dependencies properly declared Version follows semantic versioning updates made DESCRIPTION, run washr::update_description() CITATION.cff file present valid Generate citation using washr::update_citation() now without DOI","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"issue-2-data-content--processing","dir":"","previous_headings":"Review Workflow > 2. CREATE Phase","what":"Issue 2: Data Content & Processing","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"File Structure - [ ] primary data files present data/ use .rda format - [ ] raw exportable data files (CSV/XLSX) inst/extdata/ - [ ] Main dataset accessible via function matching package name - [ ] sensitive personally identifiable information present Data Quality Checks - [ ] Missing values properly coded NA - [ ] Categorical variables checked consistency - [ ] Date variables proper format - [ ] Numeric variables reasonable ranges - [ ] text data encoded UTF-8 Data Processing Script - [ ] data_processing.R data-raw/ - [ ] Script reproducible well-commented - [ ] Raw data files preserved data-raw/ - [ ] dictionary.csv variable descriptions - [ ] Uses tidyverse conventions - [ ] Handles data cleaning transparently - [ ] Analysis testing scripts preserved analysis/ directory","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"issue-3-documentation","dir":"","previous_headings":"Review Workflow > 2. CREATE Phase","what":"Issue 3: Documentation","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"README.Rmd follows openwashdata template Dynamic content generation works Installation instructions present Data overview dimensions Variable dictionary table rendered License citation sections complete Roxygen documentation exported functions _pkgdown.yml configured Plausible analytics Package website builds without errors","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"issue-4-tests--cicd","dir":"","previous_headings":"Review Workflow > 2. CREATE Phase","what":"Issue 4: Tests & CI/CD","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Add GitHub Actions workflow R-CMD-check Add R-CMD-check badge README.Rmd Package passes devtools::check() errors/warnings Examples run successfully Data loads correctly MANDATORY PROCESS ISSUE: 1. Present planned changes request user confirmation implementing - ALWAYS WAIT explicit user approval (yes//edit) proceeding 2. Create feature branch dev (e.g., issue-1-metadata) 3. Implement changes regular check-ins: - checklist item major change: - Announce specific change - Implement - Show result - CHECK-: “Ready commit change? (commit/continue)” - “commit”: Create atomic commit change 4. Run tests changes 5. Update GitHub issue check completed items: - Use gh issue view [number] get current issue body - Update checkboxes - [ ] - [x] completed items - Use gh issue edit [number] --body \"[updated body]\" save 6. Create PR detailed summary including commits: ``` gh pr create –base dev –title “Fix Issue #1: [Description]” –body “## Summary Addresses Issue #[number] ## Changes Made - [Specific changes] ## Completed Checklist Items - [x] Item 1 - [x] Item 2 Closes #[number]” ``7. **STOP IMMEDIATELY** - Output: \"✅ PR created Issue #[number]. Issue checklist updated. Please review merge dev, run/create-next-issue` continue.” 8. PROCEED issue","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"id_3-test-phase","dir":"","previous_headings":"Review Workflow","what":"3. TEST Phase","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Run comprehensive package checks: Verify: - tests pass - R CMD check issues - Documentation renders correctly - Website builds successfully","code":"devtools::check() devtools::build() pkgdown::build_site()"},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"id_4-deploy-phase","dir":"","previous_headings":"Review Workflow","what":"4. DEPLOY Phase","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Build deploy pkgdown website Verify Plausible analytics tracking Confirm changes committed Approve PR merge main branch Create release using /create-release command","code":""},{"path":[]},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"required-files-structure","dir":"","previous_headings":"Key Standards","what":"Required Files Structure","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"","code":"package-name/ ├── DESCRIPTION ├── NAMESPACE ├── R/ │   └── package-name.R ├── data/ │   └── package-name.rda ├── data-raw/ │   ├── data_processing.R │   └── dictionary.csv ├── inst/ │   ├── CITATION │   └── extdata/ │       ├── package-name.csv │       └── package-name.xlsx ├── man/ ├── vignettes/                # Optional vignettes directory │   └── articles/             # Always use articles/ subdirectory │       └── example.Rmd       # Keep all vignettes here ├── analysis/                 # Analysis and testing scripts (not built) │   ├── test_package.R │   ├── data_analysis.R │   └── validation.R ├── README.Rmd ├── README.md ├── NEWS.md                   # Package changelog ├── CITATION.cff ├── _pkgdown.yml              # Standard openwashdata configuration ├── .Rbuildignore └── .github/     └── workflows/         └── R-CMD-check.yaml"},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"vignettes-convention","dir":"","previous_headings":"Key Standards","what":"Vignettes Convention","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"IMPORTANT: vignettes must stored vignettes/articles/ subdirectory, directly vignettes/. convention: - Ensures vignettes rendered correctly pkgdown - Keeps vignettes separate package documentation - Prevents CRAN submission issues - Maintains consistency across openwashdata packages Example structure:","code":"vignettes/ └── articles/     ├── getting-started.Rmd     ├── data-analysis.Rmd     └── case-study.Rmd"},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"r-scripts-for-reproducibility","dir":"","previous_headings":"Key Standards","what":"R Scripts for Reproducibility","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"R scripts used testing, validation, analysis package development must preserved repository reproducibility purposes. scripts stored analysis/ directory package root level.","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"why-analysis-directory","dir":"","previous_headings":"Key Standards > R Scripts for Reproducibility","what":"Why analysis/ directory:","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"included installed package (automatically ignored R CMD build) Available GitHub future reference reproducibility Organized separately package code configuration needed - R automatically excludes top-level directories recognized package components","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"script-organization-in-analysis","dir":"","previous_headings":"Key Standards > R Scripts for Reproducibility","what":"Script Organization in analysis/:","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"test_package.R - Scripts testing package functionality data_analysis.R - Exploratory data analysis scripts validation.R - Data validation quality checks comparison.R - Scripts comparing different data versions analysis utility scripts used development approach ensures analysis work remains transparent reproducible without affecting package installation CRAN compliance.","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"package-dependencies","dir":"","previous_headings":"Key Standards","what":"Package Dependencies","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Common dependencies data packages: - dplyr, tidyr (data manipulation) - readr, readxl (data import) - janitor (data cleaning) - desc (DESCRIPTION parsing) - gt, kableExtra (table formatting) - usethis (development workflows, including NEWS.md versioning)","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"quality-criteria","dir":"","previous_headings":"Key Standards","what":"Quality Criteria","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Reproducibility: data processing steps documented runnable Transparency: Raw data preserved clear transformation pipeline Accessibility: Multiple export formats (R, CSV, XLSX) Documentation: Comprehensive variable descriptions usage examples Consistency: Follows openwashdata naming structure conventions","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"branch-and-pr-strategy","dir":"","previous_headings":"","what":"Branch and PR Strategy","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Package Review Branch Structure: - main - Production branch (protected) - dev - Development branch review work happens - issue-[n]-description - Feature branches issue (created dev) PR Flow: 1. issue gets PR feature branch → dev 2. User reviews merges issue PR dev 3. issues resolved, create final PR dev → main 4. Never create PRs directly main review process","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"commands","dir":"","previous_headings":"","what":"Commands","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"/review-package [package-name] - Start package review (analyzes package creates Issue #1 ) /review-issue [number] - Work specific issue (STOPS creating PR) /create-next-issue - Create next issue sequence (previous PR merged) /review-status - Check current review progress /review-complete - issues merged dev, create final PR main /create-release [version] - Create new release changelog","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"review-workflow-summary","dir":"","previous_headings":"","what":"Review Workflow Summary","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"package review follows sequential, issue--issue approach: Start: Run /review-package analyze package create Issue #1 Work: Use /review-issue [number] work current issue Submit: Create PR dev branch issue Continue: merging, run /create-next-issue create next issue ensures : - issue builds changes previous issues - dev branch stays --date throughout review - Changes reviewed merged incrementally - final PR dev main contains cumulative improvements","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"issue-resolution-workflow","dir":"","previous_headings":"","what":"Issue Resolution Workflow","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"working issue via /review-issue [number]: Branch - Create feature branch dev: git checkout -b issue-[number]-description Analyze - Review specific issue requirements checklist items Present analysis needs done CHECK-#1: “’s found. proceed changes? (yes/)” Implement Changes Stages Announce ’re Make change Show result CHECK-: “Change completed. Ready commit? Type ‘commit’ save change, ‘continue’ make changes.” user says “commit”: Run git add -&& git commit -m \"Description specific change\" Repeat significant change Test - changes, verify everything works Run relevant tests (devtools::check(), build_readme(), etc.) CHECK-: “tests passed. Ready finalize? (yes/)” Update Issue - Check completed items issue checklist Use gh issue view [number] get current issue body Update checkboxes - [ ] - [x] completed items Use gh issue edit [number] --body \"[updated body]\" save CHECK-: “Issue checklist updated. Ready create PR? (yes/)” Final Commit (uncommitted changes) git add -&& git commit -m \"Final updates Issue #[number]\" Push - Push branch: git push -u origin issue-[number]-description Create PR - ALWAYS dev detailed body: STOP COMPLETELY - Output final message cease activity CRITICAL STOPPING BEHAVIOR: - creating PR, Claude MUST output: “✅ PR created Issue #[number]. Please review merge dev, run /review-issue [next-number] continue next issue.” - Claude MUST continue tasks - Claude MUST suggest next steps - Claude MUST start working next issue - conversation effectively ends user explicitly restarts /review-issue [next-number]","code":"gh pr create --base dev --title \"Fix Issue #[number]: [description]\" --body \"## Summary Addresses Issue #[number]  ## Changes Made - [List specific changes made] - [Include which checklist items were completed]  ## Commits in this PR - [List each commit message]  ## Checklist - [x] Item 1 completed - [x] Item 2 completed - [ ] Item 3 (if not completed, explain why)  Closes #[number]\""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"check-in-points-and-commit-strategy","dir":"","previous_headings":"","what":"Check-In Points and Commit Strategy","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Claude MUST pause check-points: analyzing issue requirements making changes Ask: “’s plan : [list]. proceed? (yes/)” significant change (e.g., checklist item) Show changed Ask: “Ready commit change? (commit/continue)” “commit”: Create atomic commit descriptive message running tests Show test results Ask: “tests passed. Ready finalize? (yes/)” updating issue checkboxes creating PR Ask: “Issue updated. Ready create PR? (yes/)” Commit Guidelines: - commit atomic (one logical change) - Use descriptive commit messages - Multiple small commits preferred one large commit - Example messages: - “Update DESCRIPTION title description” - “Add ORCID IDs authors” - “Configure CC 4.0 license” - “Update CITATION washr::update_citation()”","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"example-issue-by-issue-workflow","dir":"","previous_headings":"","what":"Example Issue-by-Issue Workflow","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"","code":"User: /review-issue 1 Claude: [Creates branch issue-1-metadata]         \"I'll work on Issue #1: General Information & Metadata. Here's what needs to be done:         - Update DESCRIPTION file         - Fix CITATION.cff         - Generate citation with washr          Should I proceed? (yes/no)\"  User: yes Claude: \"Starting with DESCRIPTION file updates...\"         [Shows DESCRIPTION changes]         \"✅ DESCRIPTION updated. Ready to commit? (commit/continue)\"  User: commit Claude: [Commits: \"Update DESCRIPTION file metadata\"]         \"Now working on CITATION.cff...\"         [Shows CITATION.cff changes]         \"✅ CITATION.cff created. Ready to commit? (commit/continue)\"  User: commit Claude: [Commits: \"Add CITATION.cff file\"]         \"Running washr::update_citation()...\"         [Shows result]         \"✅ Citation updated. Ready to commit? (commit/continue)\"  User: commit Claude: [Commits: \"Update CITATION with washr\"]         [Updates Issue #1 checkboxes]         [Creates PR with 3 commits listed]         \"✅ PR created for Issue #1 with 3 commits. Issue checklist updated. Please review and merge to dev, then run `/review-issue 2` to continue.\"         [STOPS COMPLETELY]  [Repeat for all 4 issues]  User: /review-complete Claude: [Creates final PR from dev to main]         \"✅ All issues resolved. Final PR created from dev to main for package review completion.\"  [After PR merged to main]  User: /create-release 0.1.0 Claude: [Updates version, creates NEWS.md entry, tags release]         \"✅ Release v0.1.0 created with changelog. Package published!\""},{"path":[]},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"creating-a-release-with-create-release-version","dir":"","previous_headings":"Release Management","what":"Creating a Release with /create-release [version]","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"creating release, Claude : PAUSE: Ask user “proceeding, please ensure repository enabled/synced Zenodo. Zenodo integration enabled repo? (yes/)” : Direct user enable https://zenodo.org/account/settings/github/ Use usethis::use_version() bump version DESCRIPTION Follow semantic versioning (major.minor.patch) Update version field match new version Update date-released current date Run washr::update_citation() sync citation files (initially without DOI) Verify version consistency across DESCRIPTION, CITATION, CITATION.cff Use usethis::use_news_md() NEWS.md doesn’t exist Add new version section release date Include summary changes recent commits/PRs Format following tidyverse NEWS conventions: Commit message: “Release version [version]” Include updates DESCRIPTION, CITATION.cff, NEWS.md Push main branch Use gh release create v[version] Include NEWS.md content release notes Tag release commit Zenodo automatically generates DOI step PAUSE: Ask user “GitHub release created! Please check Zenodo generated DOI provide (format: 10.5281/zenodo.XXXXXXX):” Add Zenodo badge README.Rmd: [![DOI](https://zenodo.org/badge/DOI/10.5281/zenodo.XXXXXXX.svg)](https://doi.org/10.5281/zenodo.XXXXXXX) Run washr::update_citation(doi = \"10.5281/zenodo.XXXXXXX\") provided DOI Update citation files include DOI Commit message: “Add Zenodo DOI package” Push DOI updates main Rebuild site include new version DOI badge Deploy updated documentation","code":"# packagename 0.1.0  * Initial release to GitHub * Added core functionality for X (#1) * Fixed issue with Y (#2) * Enhanced documentation (#3)"},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"newsmd-format-guidelines","dir":"","previous_headings":"Release Management","what":"NEWS.md Format Guidelines","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"version gets section version number date Use bullet points changes Reference issue/PR numbers parentheses Group changes type (new features, bug fixes, etc.) recent version top Follow tidyverse style guide NEWS files Example NEWS.md structure:","code":"# washrkenya 0.2.0 (2024-01-15)  ## New features * Added support for temporal analysis (#12) * New vignette on data visualization (#15)  ## Bug fixes * Fixed encoding issues in region names (#10) * Corrected data type for population column (#11)  # washrkenya 0.1.0 (2023-12-01)  * Initial release * Basic data access functions * Documentation and examples"},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"important-notes","dir":"","previous_headings":"","what":"Important Notes","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Always request user confirmation phases Check user implementing changes CREATE phase Preserve existing git history commits Follow tidyverse style guide R code Use semantic versioning package versions","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"project-management-with-github-cli","dir":"","previous_headings":"","what":"Project Management with GitHub CLI","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"List issues: gh issue list View issue details: gh issue view 80 (e.g., issue #80 “Rename geographies parameter”) Create branch issue: gh issue develop 80 Checkout branch: git checkout 80-rename-geographies-parameter--entities Create pull request: gh pr create --title \"Rename geographies parameter entities\" --body \"Implements #80\" List pull requests: gh pr list View pull request: gh pr view PR_NUMBER","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"buildtestcheck-commands","dir":"","previous_headings":"","what":"Build/Test/Check Commands","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Build package: R CMD build . Install package: R CMD INSTALL . Run tests: R -e \"devtools::test()\" Run single test: R -e \"devtools::test_file('tests/testthat/test-FILE_NAME.R', reporter = 'progress')\" Run R CMD check: R -e \"devtools::check()\" Build Roxygen2 documentation: R -e \"devtools::document()\" Build vignettes: R -e \"devtools::build_vignettes()\" Build README.md README.Rmd: R -e \"devtools::build_readme()\"","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"standard-_pkgdownyml-configuration","dir":"","previous_headings":"","what":"Standard _pkgdown.yml Configuration","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"openwashdata packages must use following standard _pkgdown.yml configuration (replace packagename actual package name): Key elements: - URL must point correct GitHub repository - Bootstrap 5 theme required - Plausible analytics script header - Consistent sidebar structure funding acknowledgment - Standard author role display - Reference section data access function","code":"url: https://github.com/openwashdata/packagename template:   bootstrap: 5   includes:     in_header: |       <script defer data-domain=\"openwashdata.github.io\" src=\"https://plausible.io/js/script.js\"><\/script>  home:   links:     - icon: github       text: GitHub repository       href: https://github.com/openwashdata/packagename   sidebar:     structure: [links, citation, authors, dev, custom]     components:       custom:         title: Funding         text: This project was funded by the [Open Research Data Program of the ETH Board](https://ethrat.ch/en/eth-domain/open-research-data/).  authors:   footer:     roles: [cre, fnd]     text: \"Crafted by\"   sidebar:     roles: [cre, aut, ctb]     before: \"So *who* does the work?\"     after: \"Thanks all!\"  reference: - title: \"Data\"   desc: \"Access the packagename dataset\"   contents:   - packagename"},{"path":"https://github.com/openwashdata/waterconsumersurvey/CLAUDE.html","id":"code-style-guidelines","dir":"","previous_headings":"","what":"Code Style Guidelines","title":"CLAUDE.md - OpenWashData R Package Review Guide","text":"Use 2 spaces indentation (tabs) Maximum 80 characters per line Use tidyverse style R code (dplyr, tidyr, purrr) Use snake_case function variable names","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/index.html","id":"household-water-point-satisfaction-survey--zomba--mangochi-district","dir":"","previous_headings":"","what":"Household Water Point Satisfaction Survey Data from Malawi","title":"Household Water Point Satisfaction Survey Data from Malawi","text":"dataset captures household-level information water access, reliability, user satisfaction across selected communities Zomba Mangochi Districts Malawi. data collected September 20, 2021, using mWater, mobile-based data collection platform. Enumerators visited households gather geo-referenced responses structured digital surveys, ensuring high-quality spatially traceable data. survey focused understanding condition accessibility household water sources, user satisfaction water services, seasonal availability, economic aspects water usage. also gathered insights household well-demographics relevant water access decision-making. Potential Use Cases dataset valuable wide range stakeholders, including: Local Government District Water Offices – planning water infrastructure repairs, expansions, equitable service delivery. NGOs Development Partners (e.g., WaterAid, UNICEF, WASH-focused NGOs) – identifying priority areas, targeting interventions, measuring impact. Policy Makers Researchers – analyzing rural water access trends, community resilience, household-level satisfaction indicators. WASH Engineers Planners – designing technically informed community-responsive water systems. Academic Institutions – research student projects focusing water governance, rural development, environmental health.","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Household Water Point Satisfaction Survey Data from Malawi","text":"can install development version waterconsumersurvey GitHub : Alternatively, can download individual datasets CSV XLSX file table . Click Download CSV. window opens displays CSV browser. Right-click anywhere inside window select “Save Page …”. Save file folder choice.","code":"# install.packages(\"devtools\") devtools::install_github(\"openwashdata/waterconsumersurvey\") ## Run the following code in console if you don't have the packages ## install.packages(c(\"dplyr\", \"knitr\", \"readr\", \"stringr\", \"gt\", \"kableExtra\")) library(dplyr) library(knitr) library(readr) library(stringr) library(gt) library(kableExtra) library(fmsb)"},{"path":"https://github.com/openwashdata/waterconsumersurvey/index.html","id":"data","dir":"","previous_headings":"","what":"Data","title":"Household Water Point Satisfaction Survey Data from Malawi","text":"package provides access Household Water Access Satisfaction Survey collected 2021 Zomba Mangochi districts Malawi.","code":"library(waterconsumersurvey)"},{"path":"https://github.com/openwashdata/waterconsumersurvey/index.html","id":"waterconsumersurvey","dir":"","previous_headings":"Data","what":"waterconsumersurvey","title":"Household Water Point Satisfaction Survey Data from Malawi","text":"dataset waterconsumersurvey contains 423 observations 41 variables overview variable names, see following table.","code":"waterconsumersurvey |>    head(3) |>    gt::gt() |>   gt::as_raw_html()"},{"path":"https://github.com/openwashdata/waterconsumersurvey/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Household Water Point Satisfaction Survey Data from Malawi","text":"","code":"library(waterconsumersurvey) library(dplyr) library(ggplot2) library(tidyr) library(ggplot2) library(dplyr)  # Visualization 1: Bar Chart of Waterpoint Functional Status by District # Filter out rows where waterpoint functional status is NA, # then group by district and functional status and count number of waterpoints status_district <- waterconsumersurvey %>%   filter(!is.na(waterpoint_functional_status)) %>%   # Exclude NA functional statuses   group_by(district, waterpoint_functional_status) %>%   summarise(count = n()) %>%                         # Count occurrences in each group   ungroup()  # Create a stacked bar chart showing waterpoint status distribution by district ggplot(status_district, aes(x = district, y = count, fill = waterpoint_functional_status)) +   geom_bar(stat = \"identity\") +                      # Use counts directly for bar heights   labs(     title = \"Waterpoint Functional Status by District\",     x = \"District\",     y = \"Number of Waterpoints\",     fill = \"Functional Status\"   ) +   theme_minimal() +   # Rotate x-axis labels for better readability if district names are long   theme(axis.text.x = element_text(angle = 45, hjust = 1)) # Vizualisation 2: Water Shortage Seasonality Line Chart  # Step 1: Filter households reporting seasonal water shortage shortage_data <- waterconsumersurvey %>%   filter(seasonal_water_shortage == \"Yes\" & !is.na(shortage_months)) %>%   select(household_id, shortage_months)  # Step 2: Split shortage_months into separate rows per household shortage_expanded <- shortage_data %>%   mutate(shortage_months = strsplit(as.character(shortage_months), \",\")) %>%   unnest(shortage_months) %>%   mutate(shortage_months = trimws(shortage_months))  # Remove leading/trailing spaces  # Step 3: Count households by month monthly_shortage_counts <- shortage_expanded %>%   group_by(shortage_months) %>%   summarise(households = n()) %>%   ungroup()  # Optional: Order months chronologically (adjust if months in dataset differ) month_levels <- c(\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",                   \"July\", \"August\", \"September\", \"October\", \"November\", \"December\") monthly_shortage_counts$shortage_months <- factor(monthly_shortage_counts$shortage_months,                                                   levels = month_levels,                                                   ordered = TRUE)  # Step 4: Plot line chart ggplot(monthly_shortage_counts, aes(x = shortage_months, y = households, group = 1)) +   geom_line(color = \"steelblue\", size = 1.2) +   geom_point(color = \"steelblue\", size = 3) +   labs(     title = \"Seasonal Water Shortage: Number of Households by Month\",     x = \"Month\",     y = \"Number of Households Reporting Shortage\"   ) +   theme_minimal() +   theme(axis.text.x = element_text(angle = 45, hjust = 1))"},{"path":"https://github.com/openwashdata/waterconsumersurvey/index.html","id":"license","dir":"","previous_headings":"","what":"License","title":"Household Water Point Satisfaction Survey Data from Malawi","text":"Data available CC-.","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/index.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Household Water Point Satisfaction Survey Data from Malawi","text":"Please cite package using:","code":"citation(\"waterconsumersurvey\") #> To cite package 'waterconsumersurvey' in publications use: #>  #>   Mhango, E. et al. (2025). waterconsumersurvey: Household Water Point #>   Satisfaction Survey Data from Malawi. R package version 0.0.0.9000. #>   https://github.com/openwashdata/waterconsumersurvey #>  #> A BibTeX entry for LaTeX users is #>  #>   @Manual{, #>     title = {waterconsumersurvey: Household Water Point Satisfaction Survey Data from Malawi}, #>     author = {Emmanuel Mhango and Feston Bwanyula and Rhodrick D. Sagawa and Fatsani Chinawa and Baleke Banda and Alex Mchotsa and Paul Kumpukwe and Derick Macheke and George Mangochi Martin and Khallen Malliot and Christopher Mwafulirwa and Tellia Billiat and Verson Chilombo and Doreen Chalira and Catherine Chapotera}, #>     year = {2025}, #>     note = {R package version 0.0.0.9000}, #>     url = {https://github.com/openwashdata/waterconsumersurvey}, #>   }"},{"path":"https://github.com/openwashdata/waterconsumersurvey/reference/waterconsumersurvey.html","id":null,"dir":"Reference","previous_headings":"","what":"Household Water Point Satisfaction Survey – Zomba & Mangochi District — waterconsumersurvey","title":"Household Water Point Satisfaction Survey – Zomba & Mangochi District — waterconsumersurvey","text":"dataset captures information household survey conducted Zomba District, Malawi, September 2021. survey aimed assess household water access, satisfaction water services, community-level water infrastructure conditions. Data collected using GPS-enabled devices, allowing spatial mapping responses.","code":""},{"path":"https://github.com/openwashdata/waterconsumersurvey/reference/waterconsumersurvey.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Household Water Point Satisfaction Survey – Zomba & Mangochi District — waterconsumersurvey","text":"","code":"waterconsumersurvey"},{"path":"https://github.com/openwashdata/waterconsumersurvey/reference/waterconsumersurvey.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Household Water Point Satisfaction Survey – Zomba & Mangochi District — waterconsumersurvey","text":"tibble 423 rows 41 variables submitted_on Date survey response submitted. latitude GPS latitude household location. longitude GPS longitude household location. gps_method Method used collect GPS coordinates (e.g., phone, GPS device). district Name district household located. traditional_authority Name traditional authority overseeing area. group_village_headman Name group village headman household's locality. village Name specific village household located. well_being_analysis Categorization household well (e.g., poor, moderate, better ). household_id Unique identifier household survey. respondent_gender Gender person responding survey. attended_school Indicates whether respondent ever attended school. highest_education_qualification Highest level education completed respondent. marital_status Current marital status respondent. religion Religious affiliation respondent. main_income_source Primary source household income (e.g., farming, business, salary). monthly_family_income Approximate total family income per month (local currency). household_size Total number people living household. main_water_source Primary source water household (e.g., borehole, tap, river). waterpoint_functional_status Functional status households main water point. nonfunctional_reason Reason water point non functional, applicable. waterpoint_current_issues Whether ongoing problems water point. waterpoint_current_problem Type problem currently affecting water point (e.g., broken pump, contamination). waterpoint_current_problem_other Specification problem captured predefined choices. water_collection_time_minutes Round trip time (minutes) collect water source, including waiting time. seasonal_water_shortage Indicates water source becomes unavailable certain times year. shortage_months Specific months water shortages experienced. daily_water_use_buckets Average number 20 litre buckets water used daily household. has_water_tariff Whether tariff user fee charged water use. no_tariff_reason Reason charging tariff, applicable. no_tariff_reason_other Additional explanation tariff, listed predefined options. waterpoint_breakdown_response Usual response process followed water point breaks . willing_to_pay_for_improvement Indicates household willing pay improved water services. current_tariff_kwacha Amount current tariff user fee Malawi Kwacha. current_tariff_unknown Indicates respondent know current tariff. max_tariff_willing_to_pay Maximum amount household willing pay monthly improved water supply. satisfaction_service_level Level satisfaction overall water service received. satisfaction_maintenance_fund Satisfaction maintenance fund managed Water Point Committee. satisfaction_sanitation_hygiene Satisfaction sanitation hygiene practices around water point. satisfaction_theft_protection Satisfaction water point protected theft vandalism. satisfaction_water_quality Satisfaction quality water (e.g., taste, color, smell).","code":""}]
